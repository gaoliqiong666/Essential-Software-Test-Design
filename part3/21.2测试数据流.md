# 21.2测试数据流


不同的编程语言处理变量的方式不同。在Java中，变量是在函数的大括号和}之间定义和使用的，并在函数结東时自动消失。在其他语言中，如C+,必须显式地声明变量，分配写入区域，并在使用完它们后清空写入区域。更多的现代编程语言都有能够解决大部分问题的编译器，在这种情况下，下面的例子会自动解决这些问题。我将不再详细讨论不同语言的优点和缺点。

简而言之，我们可以对一个变量做四件事：定义它、给它一个值、在某种公式中使用它以及删除它

例子
* 定义变量 Amount:定义为数值、整数、10个字符分配一个值。
* 金额=123678
* 在条件中使用金额为>400000
* 删除变量

为了描述哪些事件有效或无效，我们使用带有关联表的状态图。
![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/qh8UJR172KEJs5kPDevohR)
图21.7:变量状态转换的列表描述允许和禁止的变量操作。
![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/njugfjRVwGmL5SwUPEhvWh)
图21.8:特定变量可能发生的事件的状态机

从已编译的程序流中，每次取一个变量，并找出它是如何使用的。你得到的要么是有效的，要么是无效的（不正确的）或者是奇怪的事件，这些事件可能取決于思维过程中的某种缺陷。

例子
* 通过控制流程的路由，我们发现变量 Amount在一行中定义了两次，但没有被使用。在这里，我们可能会怀疑我们想错了
* 进一步，有一个条件表示< <if Amount>400,那么。，但是 Amount在比较之前的代码中似乎没有被赋值。这是一个稍微严重的缺陷。同样重要的是要记住哪些函数可以使用哪些变量做什么。

它开始看起来像一个CRUD分析一参见前面关于测试数据周期的章节。因此，测试的一个重要部分是正确处理数据的完整性：正确的函数以正确的方式更改正确的数据
