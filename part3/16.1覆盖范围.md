# 16.1覆盖范围

覆盖率的能力是组合测试的中心概念。更高的覆盖率将为您提供更好的测试质量，但也会提供更多的测试用例/配置。图16:2显示了组合测试中最常用的覆盖标准的包含层次结构。一个覆盖标准X包含另一个覆盖标准Y，当且仅当对X的100%覆盖自动导致对Y78的100%覆盖。包容在图中用箭头表示。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/rkcrA8ZZ6yejGWVb4c22ys)

图16:2:组合策略覆盖标准的包含层次结构。

组合测试中使用的最简单的覆盖形式是1-wise覆盖，它要求每个参数的每个参数值至少包含在一个组合中。图16:3显示了一组满足图16:1中三角形问题模型1-wise覆盖的组合。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/s8V8XboybigF1Jp8xyue2a)

图16:3:三角形例子的1-wise覆盖

 

1-wise覆盖的自然扩展是2-wise(成对)覆盖。它要求任意两个(对)参数值的每个子组合都包含在组合集合中。1-图16:4显示了一组满足图16:1中三角形问题模型2-wise coverage的组合。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/qcdFJNhAnxA9RCSiVy3APg)

图16:4:三角形例子的2-wise覆盖。

wise和2-wise的泛化是t-wise覆盖，它要求任何t参数值的每个子组合都包含在组合的集合中。模型中具有N个参数的最高可能覆盖准则是N向覆盖，1-即与每一个可能的组合相同。在我们的三角形例子中，这将是4*4*4-64的测试用例。在同一模型中，对于不同的参数也可以有不同的覆盖级别。这被称为可变强度覆盖

通常，包含多个无效值的测试用例在检测故障时效果较差79。主要原因是，用于错误处理的代码通常一次检查一个输入值，一旦发现第一个无效的输入值，就会调用错误处理程序并终止执行。因此，如果与第二个无效值相关的错误存在，则该错误可能被第一个无效值所掩盖。到目前为止所描述的覆盖标准(1-wise、2-wise、t-wise、N-wise和可变强度覆盖)没有考虑参数值的含义。换句话说，如果这些覆盖标准中的任何一个被用于测试用例的选择，就不能保证组合最多包含一个无效值。例如，图16:3中的组合4和图16:4中的组合4、13和16。

为了能够考虑到这个观察结果，我们需要知道模型中的每个参数值，它表示的是有效的还是无效的分区。图165显示了图16:1中添加了这些信息的模型。零被认为是有效的输入，即使不可能有一个三角形的一条边的长度是零。原因是<非有效三角形》是一个已定义的结果。

将分区分为有效分区和无效分区可以用来定义更多的覆盖标准。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/8cBU6TZtug9gJQ1ofmzG4g)

图16:5:添加语义（无效或有效）信息的三角形输入参数模型。

图B中包含层次结构中的t-Wise有效覆盖标准要求跨参数的有效值的 t-wise覆盖。图166显示了一组满足图165中三角形问题模型2-wise有效覆盖的组合。注意图166中没有一个组合包含任何无效值。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/4oL3bHcJkxYMhbXBbTv3AR)



图166:三角形例子的2-Wise有效覆盖单一错误覆盖率代表了 t-wise有效覆盖率的对立面。为了满足单一的错误覆盖率，每个无效的参数值必须包含在一个所有其他参数值都有效的组合中。图16:7显示了一组与图16:5中的三角形问题模型相比满足单一错误覆盖的组合。根据组合中包含的无效值的数量来概括单个错误覆盖是可能的，但这将给出 Beizer所说的我们应该避免的确切结果。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/s3c16W4PSUcwTDApqUq5YC)

图16:7:三角形例子的单一错误覆盖

图16:2中包含在包含层次结构中的最终覆盖标准被称为基本选择覆盖80。满足碱基选择覆盖的第一步是确定碱基组合。基本组合由每个参数的基本值组成。测试人员可以自由选择任何值作为基础值，但建议选择最常用的有效值。在基组合中，通过每次修改一个参数的值来获得新的组合，这样，该参数的每个值至少包含在一个组合中，同时保持其基值中的其余参数不变。图168显示了在基底组合<A2,B2,C2>的假设下，对于图16:5中的三角形问题模型，组满足基底选择覆盖的组合。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/iCch27hLA95c5shfGNZTgN)

图16:8:三角形例子的基本选择覆盖范围

尽管所有的覆盖标准都可以应用于任何测试问题，但是当使用组合测试来识别要测试的配置时，无效的值通常不包括在模型中。这意味着在配置测试中通常不使用单错误覆盖率和t-wise有效覆盖率标准。

显然，每个测试问题都是不同的，所以很难给出具体的建议，关于应该使用哪些覆盖标准，但存在一些可能有帮助的一般性观察。通常情況下，在图162中向上移动将给出越来越多的组合，这意味着更长的测试时间，但更好的测试质量。对于小的测试问题，不同覆盖标准之间的大小差异通常很小，而对于大的测试问题，情况正好相反。

当使用组合策略进行测试用例选择时，1-wise覆盖通常会给出太低的测试质量，因为没有考虑不同参数的值是如何组合的。相反，基础选择，2明智，2明智有效和单错误覆盖率是更好的选择。

当主题是配置标识时，参数通常不包含无效值。此外，每个配置都需要一些时间进行设置和测试，所以时间通常是一个重要的因素。基于这个原因，1wise和基础选择覆盖通常是很好的选择

练习
1)计算图16:1中输入参数模型由图166(2- wise valid coverage)和图16:8( base choicecoverage)中所给出的组合所获得的2- Wise coverage的总量。

