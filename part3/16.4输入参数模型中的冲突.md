# 16.4输入参数模型中的冲突


输入参数建模有时会导致模型中的一些子组合是奇怪的，甚至是没有意义的。作为一个例子，考虑图169中的模型。<A3,B1,>的子组合含义不明。使用非数字来创建一个等边三角形意味着什么？在图16:9的模型中，其他含义不明确的子组合是<A3B2>和<A3,B3>。如果A3(非数字）被解释为同时对所有三个边都成立，那么也不清楚如何将A3与参数c的任何值组合。任何不可能的或语义上无意义的子组合被称为冲突

通常有三种处理冲突的方式。这些是(1)设计没有冲突的模型，(2)避免选择包含冲突的组合，(3)用其他组合替换包含冲突的组合，以保持原始覆盖范围

在没有冲突的情況下设计模型可能会导致较低的测试质量，因为冲突的值甚至参数可能不得不从模型中删除。省略一个值或参数的模型，由于冲突，意味着这个值不能结合其他值和定义的含义例如如果值A3从模型中删除图16:9的，不可能有组合包含接头组合<A3,B4ン,这是个结合定义的意义。设计无冲突的模型也可以通过将包含冲突的原始模型分解为几个无冲突的子模型来实现。尽管这将保留最初的覆盖，但它将导致不必要的大集合的组合89

在有效性（保持覆盖范围）和有效性（保持组合的集合尽可能小）方面，一个更好的方法是避免选择有冲突子组合的组合。要让这种机制发挥作用，就必须将这种机制构建到组合策略中。虽然这在理论上可能不是问题，但它可能是一个实际问题，因为许多工具都不能访问源代码，在这种情況下，如果工具中还没有内置冲突处理，那么访问源代码是必要的。

处理冲突的第三种方法是用其他组合替换冲突组合，这样就保留了原来的覆盖范围。为了说明这一点，考虑图16:10中第一列(标记为< Original》)的组合，它满足图16:9中模型的2wise覆盖。为简单起见，我们只考虑三个冲突<A3,B1>,<A3,B2><A3,B3]。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/hjafJh2x9FyJ4rDU5oKm4x)

图16:10:在保持覆盖的同时替换冲突组合的步骤冲突用粗体标出。

在第一步中，克隆出冲突的组合。在每个克隆中，一个冲突值被一个任意的非冲突值替换，由通配符（）表示。在第二步中，通配符被特定的值替换，这样就不会引入新的冲突。在本例中，与原始组合相比，替换冲突的组合会产生三个额外的组合。通常情況下，替换方法会略微增加组合的数量，但除非冲突的数量非常大，否则这种增加通常是不显著的。
