# 25.2状态图

这就是酒精锁的解决方案。注意，只绘制有效的路由。一个完整的图还包含所有无效的事件。所以，从待机模式，应该有另一个箭头再次回到待机模式在它的当前位置-转动键/什么都没有发生。如果我们真的需要详细说明，我们可能会想，是否应该有一个额外的模式，即锁打开，钥匙已经转动ー一在钥匙转动之前，你不能吹。同样地，其他状态，如控制和限制模式，在事件发生时，箭头会自动返回

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/hTRB6MyuizB93ZCYJe5BVY)

图25.2:酒精锁状态图的建议解决方案。注意，为了防止图变得过于详细，只绘制有效的路由。一个完整的图还包含所有无效的事件。不管它们是否被起草出来，它们都必须经过测试。

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/dQhmdAMiQNhayqjM4Tv1Hy)

图25.3:酒精锁过渡表概述的建议解决方案。我们详细地注意到什么导致了每个转换，以及系统如何响应。这对我们的测试来说是重要的信息，同时也是对要求的质量保证

在这种情况下，模型非常小。因此，为转换配对绘制一个表，并确保用测试用例覆盖所有的配对也是合适的。

下一页显示了一个转换配对表，随后的三个测试用例覆盖了其中的大部分行。需要另个测试用例来覆盖最后的7、11和13行

记住，为了测试正常值和边界值，每个基本测试用例都要运行几次！

![image.png](https://static.aiwriter.net/oG3nbKxibYYPA3NySvuJdo/6YX6xUCHUK7sKqkj9rAMv8/49AKNA6V7R1awZGWt5QuhA)

图25.4:酒精锁过渡配对表概述的建议解决方案。测试所有的转换对有助于对系统进行更深入的测试，并帮助我们检测依赖于转换组合的缺陷。

基础测试用例1-快乐的一天
假设：你处于待机状态，你是清醒的

执行：
1.设法发动汽车时不要爆炸
2.尝试失败
3.打击够难
4.呼吸测试发生
5.你得到一盏绿灯，可以转动钥匙
6.在15秒内转动钥匙启动汽车
7.把钥匙转回去，把引擎关掉
8.试着在不爆炸的情況下发动汽车，以确认发动机是否关闭

Resultlend状态：
你己经成功地发动并驾驶了这辆车。它现在又处于待机模式。

测试覆盖：这个测试用例覆盖了第3行。5和8

基本测试用例2-快乐之夜？
假设：你处于待机状态，而且酩酊大醉。

执行：
1、打击够难
2、呼吸测试发生
3、一个红灯，一个小时的街区
4、一个小时后，这个街区被拆除
5、再吹，还是醉了
6、呼吸测试发生
7、你遇到了红灯，又过了一个小时
8、1小时后，方块被取下，进入待机模式
9、现在，你那个清醒的朋友吹箫了
10、呼吸测试发生
11、你得到一盏绿灯，可以转动钥匙
12、然而，你的朋友搞错了，暂停是一个因素一一你要在外面呆一整晚吗？
13、待机模式再
14、现在，你的清醒朋友又吹了
15、呼吸测试发生
16、你得到一盏绿灯，可以转动钥匙
17、这一次，你的朋友在15秒内转动钥匙
18、发动机的启动
19、安全停车回家后，钥匙被收回
20、发动机停止
21、你的妻子/丈夫想知道发生了什么，你真的想告诉他们。喝一大口威土忌，然后再吹
22、呼吸测试后，你会看到红灯
23、一个小时的点火开关再次启动，不管你怎么尝试，你都无法启动汽车

测试覆盖：除了前面己经覆盖的行之外，这个测试用例覆盖了4、6、10、12和14行

基本测试案例3:口臭
假设：系统处于待机模式，而你是清醒的，但肺不好

执行：
1.打击太弱
2.你回到了待机模式
H-10。再次吹得太弱
H-11。您仍处于待机模式
H-12。打击够难
H-13。呼吸测试
H-14。绿色的灯
H-15。超时，因为您没有及时开始犯。
H-16。再吹，却太无力
H-17。再吹一次，这次要用力
H-18。呼吸测试
H-19.你得到一盏録灯
H-20.15秒内发动汽车
H-21。发动机运行
H-22。发动机转动
H-23。待机模式再
H-24。再吹，却太无力
H-25。待机模式再

测试覆盖：除了前面已经覆盖的行之外，这个测试用例覆盖了行1、2.9和15
